apiVersion: dashboard.grafana.app/v2beta1
kind: Dashboard
metadata:
    name: ddfc2gu2yg9clca
spec:
    annotations:
        - kind: AnnotationQuery
          spec:
            builtIn: true
            enable: true
            hide: true
            iconColor: rgba(0, 211, 255, 1)
            name: Annotations & Alerts
            query:
                datasource:
                    name: -- Grafana --
                group: grafana
                kind: DataQuery
                spec: {}
                version: v0
    cursorSync: "Off"
    description: ""
    editable: true
    elements:
        panel-1:
            kind: Panel
            spec:
                data:
                    kind: QueryGroup
                    spec:
                        queries:
                            - kind: PanelQuery
                              spec:
                                hidden: false
                                query:
                                    datasource:
                                        name: ffbxubp3owa9sc
                                    group: grafana-mongodb-datasource
                                    kind: DataQuery
                                    spec:
                                        expand: true
                                        parsedQuery: |
                                            marathon-game-data.marathon-game-data.aggregate([{"$match":{"scenario name":"Marathon,Marathon 2,Marathon Infinity"}},{"$project":{"_id":0,"date":"$date","durationSeconds":{"$subtract":[{"$toInt":{"$ifNull":["$end tick",0]}},{"$toInt":{"$ifNull":["$start tick",0]}}]}}},{"$sort":{"date":1}}])
                                        query: |
                                            marathon-game-data.marathon-game-data.aggregate([{
                                              $match: { 'scenario name': '${games:raw}' }
                                            }, {
                                              $project: {
                                                _id: 0,
                                                date: '$date',
                                                durationSeconds: {
                                                  $subtract: [
                                                    { $toInt: { $ifNull: ['$end tick', 0] } },
                                                    { $toInt: { $ifNull: ['$start tick', 0] } }
                                                  ]
                                                }
                                              }
                                            }, {
                                              $sort: { date: 1 }
                                            }])
                                        queryType: query
                                    version: v0
                                refId: A
                        queryOptions: {}
                        transformations: []
                description: ""
                id: 1
                links: []
                title: Time played
                vizConfig:
                    group: stat
                    kind: VizConfig
                    spec:
                        fieldConfig:
                            defaults:
                                color:
                                    mode: thresholds
                                thresholds:
                                    mode: absolute
                                    steps:
                                        - color: green
                                          value: 0
                                unit: s
                            overrides: []
                        options:
                            colorMode: none
                            graphMode: area
                            justifyMode: auto
                            orientation: auto
                            percentChangeColorMode: standard
                            reduceOptions:
                                calcs:
                                    - lastNotNull
                                fields: ""
                                values: false
                            showPercentChange: false
                            textMode: auto
                            wideLayout: true
                    version: 12.4.0-21496434218
    layout:
        kind: RowsLayout
        spec:
            rows:
                - kind: RowsLayoutRow
                  spec:
                    collapse: false
                    hideHeader: false
                    layout:
                        kind: AutoGridLayout
                        spec:
                            columnWidthMode: standard
                            items:
                                - kind: AutoGridLayoutItem
                                  spec:
                                    element:
                                        kind: ElementReference
                                        name: panel-1
                            maxColumnCount: 3
                            rowHeightMode: short
                    repeat:
                        mode: variable
                        value: games
                    title: $games
    links:
        - asDropdown: false
          icon: external link
          includeVars: false
          keepTime: false
          tags: []
          targetBlank: true
          title: Source (GitHub)
          tooltip: View source file in repository
          type: link
          url: https://github.com/petewall/marathon-dashboards/blob/main/dashboards/summary.yaml
    liveNow: false
    preload: false
    tags: []
    timeSettings:
        autoRefresh: ""
        autoRefreshIntervals:
            - 5s
            - 10s
            - 30s
            - 1m
            - 5m
            - 15m
            - 30m
            - 1h
            - 2h
            - 1d
        fiscalYearStartMonth: 0
        from: "2026-01-23T01:16:59.000Z"
        hideTimepicker: false
        timezone: browser
        to: "2026-01-28T19:56:11.000Z"
    title: Summary
    variables:
        - kind: CustomVariable
          spec:
            allowCustomValue: false
            current:
                text:
                    - Marathon
                    - Marathon 2
                    - Marathon Infinity
                value:
                    - Marathon
                    - Marathon 2
                    - Marathon Infinity
            hide: hideVariable
            includeAll: false
            multi: true
            name: games
            options: []
            query: Marathon,Marathon 2,Marathon Infinity
            skipUrlSync: false
            valuesFormat: csv
